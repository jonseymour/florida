# NAME
florida - a simulation of the "a girl named florida" problem

# DESCRIPTION

This go-lang program simulates 2 variations of the "A girl named Florida" problem.

The simulation works by connecting a number of stages in a pipeline. Various flags alter
the construction of the pipeline to reflect different filtering criteria. A stream of
random families is generated and filtered by the pipeline and a summary of the
resulting population statistics are written to stdout. For example:

	[families] n=1000000, c=1000000, gg=249506, gg/c=25.0%

This means 1,000,000 random families were generated, 1,000,000 were selected by the
filtering pipeline. Of these 249,506 were girl-girl families - a proportion of ~25%.

The `--at-least-one-girl` flag selects only families which have at least one girl. 

The `--florida` flag selects only families which have at least one girl unless `--girls` is also specified
in which case it selects only girls named Florida.

The `--girls` flag selects only children who are girls. The reported statistics relate to populations
of girls, not families. In particular when `--girls` is specified, the 'gg' statistic can be read 
as the number of girls whose sibling is also a girl.

#PIPELINES

This section documents the pipelines that are constructed when different options or combinations of option
are specified. The list items are stage names which are described next.

#--at-least-one-girl

* generate
* name
* atLeastOneGirl
* accounting

#--florida

* generate
* name
* floridaFamilies
* accounting

#--girls

* generate
* name
* family2child
* girls
* child2family
* accounting

#--girls --florida

* generate
* name
* family2child
* florida
* child2family
* accounting

# STAGES

`generate` generates a stream of random 2-child families. You can change the number of families generated by this stage with the `--families` option, which defaults to 1000000.

`name` stamps girls with the name 'Florida' according to the probability specified with the `--probability` option which defaults to 0.001.

`atLeastOneGirl` excludes any family that does not have at least one girl.

`floridaFamilies` excludes any family that does not have a girl named Florida.

`family2child` writes one child entry for each of a family's 2 children into a child channel.

`girls` excludes any child that is not a girl.

`florida` excludes any child that is not a girl named Florida.

`child2family` writes one family entry for each child into a family channel. Note that no attempt is made to 
eliminate duplicates that result from two children having the same family - the resulting statistics are statistics about children not families.

`accounting` calculates statistics for the selected families(/girls) and displays a summary. 

`n` is the number of generated families, `c` is the number of selected families(/girls), `gg` is the number of selected girl-girl families(/girls with female siblings), `gg/c` is ratio of `gg` over `c` expressed as a percentage. A `[families]` or `[girls]` indicator is used to indicate whether the population being summarised is a population of families or a population of girls.

#PROBLEMS
## Problem #1
A) You are told of a 2-child family that has at least one girl. What is the chance the family consists of 2 girls?

This question can be answered with: `florida --at-least-one-girl`

B) You are then told that one of children is a girl named Florida. What is the chance the family consists of 2 girls?

This question can be answered with: `florida --florida`

## Problem #2
A) You are told of a girl who has exactly one sibling. What is the chance the girl's sibling is also a girl?

This question can be answered with: `florida --girls`

B) You are then told that the girl's name is Florida. What is the chance the girl's sibling is also a girl?

This question can be answered with: `florida --girls --florida`
